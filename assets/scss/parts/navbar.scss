@import './variables';

#globalnav {
  background-color: rgba(255, 255, 255, 0.98);

  /**
   * Shared Styling
   */
  .nav-link {
    @apply text-nucssa-nav-item font-bold;
    &:hover {@apply text-nucssa-nav-item-highlight;}
  }


  /**
   * screen-sm:
   */
  .nav-toggle {
    @screen md {@apply hidden;}
    @apply cursor-pointer p-0 border-none h-6 w-5 flex flex-col justify-center relative;

    span {transform: translateX(-50%);}
    span, span::before, span::after {
      @apply w-full absolute;
      height: 2px;
    }

    span::before, span::after {
      @apply bg-nucssa-standard;
      content: '';
      transition-property: top, transform;
      transition-delay: .2s, 0s;
      transition-duration: .2s, .2s;
    }
    span::before {top: -4px;}
    span::after {top: 4px;}
  }

  .nav-toggle.active {
    span::before, span::after {transition-delay: 0s, .2s; }
    span::before {top: 0; transform: rotate(45deg);}
    span::after {top: 0; transform: rotate(-45deg);}
  }

  .branding {
    @apply flex items-center mx-auto;
    .logo {
      @apply w-10;
    }
    .name {
      @apply flex flex-col justify-center px-1 ml-1 hidden;
    }

  }

  // User Profile
  .btn-login {
    @apply text-nucssa-nav-item font-bold;
    &:hover {@apply text-nucssa-tooltip-2;}
  }
  #user-profile-dropdown {@apply px-0 py-1;
    li a {@apply block px-4 py-2 text-nucssa-standard;
      &:hover {@apply bg-gray-200;}
    }
  }


  /**
   * Screen-md:
   */
  @screen md {
    // Branding
    .branding {
      &:hover{filter: contrast(120%);}

      .logo {
        width: 83px;
      }
      .name {
        @apply block ml-2;
      }
    }

    // Nav Menu Items
    .nav-menu {
      @apply ml-auto flex justify-end items-center flex-grow mr-8;

      li.current-menu-item a {@apply text-nucssa-nav-item-highlight;}
      li + li {@apply ml-8;}
      li.current-menu-item {
        @apply relative;

        &::after {
          @apply block absolute w-full bg-nucssa-nav-item-highlight;
          content: '';
          height: 3px;
        }
      }

      &.search-activated {
        display: none;
      }

      li.menu-item-has-children {
        .nav-menu {@apply hidden;}
      }
      li.menu-item-has-children:hover {@apply relative;
        .nav-menu {@apply block absolute shadow-md bg-white py-2 mr-0; left: 0; transform: translateX(-25%); width: max-content;
          li + li {@apply ml-0 border-t border-gray-400 border-solid;}
          .nav-link {@apply inline-block px-8 py-1;}
        }
      }
    }


    .searchbar { @apply flex items-center flex-grow-0;
      input {
        @apply w-0;
        transition: all .3s;
      }

      &.active {
        @apply flex-grow;
        .form-control {
          @apply w-full relative flex items-center;
          input {@apply w-full border-nucssa-standard border border-solid rounded-full text-lg py-2 pl-9 outline-none;}
          .icon {@apply absolute; left: .8rem;}
        }
      }
    }

    .user-profile {
      img {width: 45px;}
    }
  }
}

#nav-panel {
  .searchbar {
    .icon {
      left: 1.7rem;
    }
  }

  nav {
    li + li {
      @apply mt-6;
    }
    li {
      a {
        @apply text-red-900 flex items-center;
        .icon {
          @apply inline-block w-12 text-center mr-2;
        }
      }
    }
    li a:hover,
    li.current-menu-item a {@apply text-nucssa-title;}

    li {
      // adjust sizing for some icons
      .icon.icon-home {font-size: 2rem;}
      .icon.icon-basketball-hoop1 {font-size: 2rem;}
      .icon.icon-touch {font-size: 2rem;}
    }

    li.menu-item-has-children ul {@apply ml-20 mt-2;
      & > li + li {@apply mt-2;}

      & > li {@apply list-square;}
    }
  }

  .social-icons {
    color: #867F7E;
    a ~ a {
      margin-left: 1.8rem;
    }
  }
}

// toggle #nav-panel
#nav-panel {
  opacity: 0;
  position: fixed;
  top: -100%;

  transition: all .5s ease-in-out;
}
#nav-panel.active {
  opacity: 1;
  top: 0;
}